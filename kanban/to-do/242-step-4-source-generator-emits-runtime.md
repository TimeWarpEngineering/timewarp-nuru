# Source generator emits runtime structures

## Parent

#239 Epic: Compile-time endpoint generation

## Description

Extend the source generator to automate Phase 2: from design-time model (`RouteDefinition`) emit the runtime C# code. This automates the manual construction from step-2.

## Context

The source generator now:
1. Parses source syntax → builds `RouteDefinition` (step-3)
2. From `RouteDefinition` → emits runtime code (this step)

The manual construction from step-2 serves as the reference for what should be emitted.

## Checklist

- [ ] Generator emits runtime structure code from `RouteDefinition`
- [ ] Emitted code matches manual construction from step-2
- [ ] AppB uses generated code instead of manual construction
- [ ] Parity tests pass: AppA output == AppB output
- [ ] `add 2 2` works via generated code

## Notes

### Generated Output

The generator emits something like:
```csharp
// <auto-generated/>
internal static class GeneratedRoutes
{
    internal static readonly Endpoint[] All = [ ... ];
    // Pre-built matchers, handlers, etc.
}
```

### Relation to Other Tasks

After this step works for the basic case, tasks #243-#248 expand what gets generated:
- #243: Pre-sorted endpoint array
- #244: Inlined pipeline
- #245: Static services
- #246: Help text
- #247: Completion scripts
- #248: Zero-cost Build()

This step is the foundation those build on.
