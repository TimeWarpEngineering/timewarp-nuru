# #293.3: Convert NuruCoreAppBuilder.Map() Methods to No-Ops

## Parent

#293 Make DSL Builder Methods No-Ops

## Dependencies

- #293.1 (EndpointBuilder constructor change)

## Description

Convert `NuruCoreAppBuilder<TSelf>` Map methods and related route registration methods from doing runtime work (pattern parsing, endpoint creation, collection management) to no-ops.

## File

`source/timewarp-nuru-core/builders/nuru-core-app-builder/nuru-core-app-builder.routes.cs`

## Checklist

### Public Map Methods
- [ ] `Map(string pattern)` → return shell `EndpointBuilder` (line 38-42)
- [ ] `Map(Func<NestedCompiledRouteBuilder<...>>)` → no-op, return shell `EndpointBuilder` (line 66-70)
- [ ] `Map<TCommand>(string pattern)` → no-op, return shell `EndpointBuilder` (line 77-81)
- [ ] `Map<TCommand, TResponse>(string pattern)` → no-op, return shell `EndpointBuilder` (line 88-92)

### WithGroupPrefix
- [ ] `WithGroupPrefix(string prefix)` → return shell `GroupBuilder` (line 125-133)

### Private Helper Methods (simplify or remove)
- [ ] `MapPatternTyped()` → simplify to just return `EndpointBuilder`
- [ ] `MapInternalTyped()` → remove or simplify
- [ ] `MapMediatorTyped()` → remove or simplify
- [ ] `MapNestedTyped()` → remove or simplify

### Also in this task (same pattern)
- [ ] `DefaultEndpointCollectionBuilder.Map()` in `source/timewarp-nuru-core/endpoints/default-endpoint-collection-builder.cs`

### Cleanup
- [ ] Remove logging calls (`ParsingLoggerMessages`)
- [ ] Remove `EndpointCollection.Add()` calls
- [ ] Remove `PatternParser.Parse()` calls
- [ ] Add comments explaining source gen handles actual work

## Current Implementation

```csharp
public virtual EndpointBuilder<TSelf> Map(string pattern)
{
  ArgumentNullException.ThrowIfNull(pattern);
  return MapPatternTyped(pattern);
}

private EndpointBuilder<TSelf> MapPatternTyped(string pattern)
{
  ParsingLoggerMessages.RouteRegistration(Logger, pattern);

  Endpoint endpoint = new()
  {
    RoutePattern = pattern,
    CompiledRoute = PatternParser.Parse(pattern, LoggerFactory)
  };

  EndpointCollection.Add(endpoint);
  return new EndpointBuilder<TSelf>((TSelf)this, endpoint);
}
```

## Target Implementation

```csharp
public virtual EndpointBuilder<TSelf> Map(string pattern)
{
  // Source generator parses pattern and creates route at compile time
  _ = pattern;
  return new EndpointBuilder<TSelf>((TSelf)this);
}

public virtual EndpointBuilder<TSelf> Map(
  Func<NestedCompiledRouteBuilder<EndpointBuilder<TSelf>>, EndpointBuilder<TSelf>> configureRoute)
{
  // Source generator extracts nested route configuration at compile time
  _ = configureRoute;
  return new EndpointBuilder<TSelf>((TSelf)this);
}

public virtual EndpointBuilder<TSelf> Map<TCommand>(string pattern)
  where TCommand : IRequest, new()
{
  // Source generator creates mediator route at compile time
  _ = pattern;
  return new EndpointBuilder<TSelf>((TSelf)this);
}

public virtual EndpointBuilder<TSelf> Map<TCommand, TResponse>(string pattern)
  where TCommand : IRequest<TResponse>, new()
{
  // Source generator creates mediator route at compile time
  _ = pattern;
  return new EndpointBuilder<TSelf>((TSelf)this);
}

public virtual GroupBuilder<TSelf> WithGroupPrefix(string prefix)
{
  // Source generator handles group prefix at compile time
  _ = prefix;
  return new GroupBuilder<TSelf>((TSelf)this);
}
```

## Breaking Changes

1. `EndpointBuilder` constructor changes (handled by #293.1)
2. `GroupBuilder` constructor will need to change (handle in #293.4)

## Notes

- This is the largest change in the epic
- Removes the majority of runtime pattern parsing overhead
- `PatternParser` is still used by the source generator at compile time
- The `EndpointCollection` and `Endpoint` classes become dead code after this
- Private helper methods can be deleted entirely once public methods are no-ops
